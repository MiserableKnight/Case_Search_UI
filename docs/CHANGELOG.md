# 版本更新记录

## [v1.1.9.3] (最新)
### Changed
- 错误处理优化
  - 实现了统一的错误处理机制，增强了错误处理的结构化和类型化
  - 创建了自定义异常类层次结构，包括基础异常类和多种客户端及服务器错误类
  - 提供了统一的错误响应格式化和处理功能，确保所有异常都被统一处理
  - 注册了全局错误处理器，确保一致的响应格式
  - 标准化了API响应格式，包括成功响应、错误响应和分页响应格式
  - 更新了服务层代码，使用新的错误处理机制，增强了错误检查和异常处理

## v1.1.9.2
### Changed
- 添加临时文件清理脚本
- 使用 APScheduler 实现定时任务
- 默认每天凌晨执行清理
- 可以通过 cron_expression 参数自定义执行时间
- 在应用启动时会执行一次清理

## v1.1.9.1
### Changed
- 重构项目架构，优化代码组织结构：
  - 配置管理 
    - 创建了专门的config目录，支持不同环境的配置（开发、生产等）
    - 将原来在__init__.py中的配置逻辑移至配置模块
    - 实现了基于继承的配置类结构，便于管理不同环境的配置
  - 应用初始化
    - 重构了__init__.py中的应用创建逻辑，使用工厂模式创建应用实例
    - 简化了应用初始化过程，通过配置对象加载配置
    - 使应用创建更加灵活，便于测试和部署
  - WSGI入口
    - 更新了wsgi.py文件，使其支持不同环境配置
    - 通过环境变量控制使用哪个配置

## v1.1.9
### Changed
- 重构项目架构，优化代码组织结构：
  - 将utils模块拆分为core和services两层架构
  - core层：包含核心业务逻辑，如word_manager, case_processor, calculator, anonymizer
  - services层：封装core层功能，提供对外接口
  - 简化导入路径，统一使用`from app.services import XXXService`
  - 提高代码可维护性和可扩展性
- 修复接口不匹配问题：
  - 调整SimilarityService适配TextSimilarityCalculator的静态方法设计
  - 调整AnonymizationService适配TextAnonymizer的构造函数
  - 更新API路由使用新的服务层接口

## v1.1.8.1
### Changed
- 重构了路由结构：
  - 将数据源相关的路由进行了模块化，提升了代码的可维护性和可读性
  - 优化了路由的组织方式，使其更符合RESTful API的设计原则

### Fixed
- 修复了在路由处理中的一些小错误，确保系统的稳定性

## v1.1.8
### Changed
- 优化前端项目架构：
  - 实现前端代码模块化拆分
  - CSS样式文件模块化：main.css, search.css, table.css, dialog.css
  - JavaScript逻辑模块化：search.js, table.js, dialog.js, import.js
  - HTML模板组件化：search_section, result_section, dialogs
  - 提升代码可维护性和复用性
- 使用国内CDN源优化资源加载速度


## v1.1.7 
- 加入数据导入功能：
  - 优化文件上传和确认流程
  - 改进错误处理机制
  - 完善数据导入的取消操作
  - 当前仅支持Excel格式(.xls, .xlsx)的快响数据导入

## v1.1.6
- 添加"数据分析"按钮，支持在新标签页中查看选中的数据：
  - 解决LLM模型数据处理量受限问题
  - 提升与LLM模型数据交互时的隐私性

- 注意事项：
  - 由于使用浏览器本地存储，数据大小受限（5-10MB）
  - 建议单次选择数据不要过多，以免超出存储限制
  - 如果搜索结果过多，比如超过200条，建议继续过滤

## v1.1.5
- 新增搜索结果序号列显示
- 增加行信息隐藏/显示功能
- 优化显示效果

## v1.1.4
- 新增故障报告数据源支持
- 新增搜索指定多列功能

## v1.1.3
- 新增敏感词管理功能
- 优化脱敏处理逻辑
- 改进搜索结果显示

## v1.1.2
- 新增相似度搜索功能
- 优化搜索性能
- 添加数据导出功能

## v1.1.1
- 新增多条件组合搜索
- 支持反向过滤
- 优化用户界面

## v1.1.0
- 初始版本发布
- 基础搜索功能
- 支持多数据源 